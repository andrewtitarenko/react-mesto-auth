{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      baseURL,\n      headers\n    } = _ref;\n    this.url = baseURL;\n    this._headers = headers;\n  }\n  _checkResponse(response) {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(`Ошибка: ${response.status}`);\n  }\n  getUserInfo() {\n    return fetch(`${this.url}/users/me`, {\n      method: \"GET\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n  editUserInfo(data) {\n    return fetch(`${this.url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(this._checkResponse);\n  }\n  getCards() {\n    return fetch(`${this.url}/cards`, {\n      method: \"GET\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n  deleteCard(cardId) {\n    return fetch(`${this.url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n  addNewCard(data) {\n    return fetch(`${this.url}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(this._checkResponse);\n  }\n  changeLikeCardStatus(cardId, like) {\n    const methodName = like ? \"PUT\" : \"DELETE\";\n    return fetch(`${this.url}/cards/${cardId}/likes`, {\n      method: methodName,\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n  editAvatar(_ref2) {\n    let {\n      avatar\n    } = _ref2;\n    return fetch(`${this.url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: `${avatar}`\n      })\n    }).then(this._checkResponse);\n  }\n}\nconst api = new Api({\n  baseURL: \"https://mesto.nomoreparties.co/v1/cohort-52\",\n  headers: {\n    authorization: \"d631afdb-03e9-4312-a4a7-1af0a84b5eb1\",\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","baseURL","headers","url","_headers","_checkResponse","response","ok","json","Promise","reject","status","getUserInfo","fetch","method","then","editUserInfo","data","body","JSON","stringify","getCards","deleteCard","cardId","addNewCard","changeLikeCardStatus","like","methodName","editAvatar","avatar","api","authorization"],"sources":["/Users/andrewtitarenko/Desktop/12/react-mesto-auth/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor({ baseURL, headers }) {\n    this.url = baseURL;\n    this._headers = headers;\n  }\n\n  _checkResponse(response) {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(`Ошибка: ${response.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this.url}/users/me`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  editUserInfo(data) {\n    return fetch(`${this.url}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then(this._checkResponse);\n  }\n\n  getCards() {\n    return fetch(`${this.url}/cards`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this.url}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n  addNewCard(data) {\n    return fetch(`${this.url}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then(this._checkResponse);\n  }\n  changeLikeCardStatus(cardId, like) {\n    const methodName = like ? \"PUT\" : \"DELETE\";\n    return fetch(`${this.url}/cards/${cardId}/likes`, {\n      method: methodName,\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  editAvatar({ avatar }) {\n    return fetch(`${this.url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: `${avatar}`,\n      }),\n    }).then(this._checkResponse);\n  }\n}\n\nconst api = new Api({\n  baseURL: \"https://mesto.nomoreparties.co/v1/cohort-52\",\n  headers: {\n    authorization: \"d631afdb-03e9-4312-a4a7-1af0a84b5eb1\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}